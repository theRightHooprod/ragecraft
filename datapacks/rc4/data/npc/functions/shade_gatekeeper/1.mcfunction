advancement revoke @s only npc:shade_gatekeeper
playsound entity.villager.celebrate master @s ~ ~ ~ 0.7 1 0.7
tellraw @s [{"text":""}]
execute unless entity @e[type=villager,tag=shade_gatekeeper,scores={mob_animation=1..}] if score #rc4tick gatekeeper_phase matches 0..3 run tellraw @s [{"text":"[Shade] ","color":"#7DCFFF","bold":true,"italic":false},{"text":"I see you are trying to get to the abyss, the deepest part of the underworld. Unfortunately, the path to the abyss has been closed forever. Centuries ago, the ancestors constructed an impenetrable gate which is protected by a mechanical monstrosity: The Gatekeeper.","color":"#A6DBFF","bold":false,"italic":false}]
execute unless entity @e[type=villager,tag=shade_gatekeeper,scores={mob_animation=1..}] if score #rc4tick gatekeeper_phase matches 0..3 run tellraw @s [{"text":""}]
execute unless entity @e[type=villager,tag=shade_gatekeeper,scores={mob_animation=1..}] if score #rc4tick gatekeeper_phase matches 0..3 run tellraw @s [{"text":"[","color":"#118708","bold":true,"italic":false},{"selector":"@s","color":"#118708","bold":true,"italic":false},{"text":"] ","color":"#118708","bold":true,"italic":false},{"text":"There must be a way to open that gate. Maybe a key of some sort? ","color":"#77C265","bold":false,"italic":false},{"text":"( *CLICK TO CONTINUE* )","color":"#969C94","bold":true,"italic":false,"clickEvent":{"action":"run_command","value":"/function npc:shade_gatekeeper/a2"}}]

execute if entity @e[type=villager,tag=shade_gatekeeper,scores={mob_animation=1..}] if score #rc4tick gatekeeper_phase matches 0..3 run tellraw @s [{"text":"[","color":"#118708","bold":true,"italic":false},{"selector":"@s","color":"#118708","bold":true,"italic":false},{"text":"] ","color":"#118708","bold":true,"italic":false},{"text":"Hey Shade, I forgot how I was supposed to destroy the Gatekeeper. Just hit him with a sword? ","color":"#77C265","bold":false,"italic":false},{"text":"( *CLICK TO CONTINUE* )","color":"#969C94","bold":true,"italic":false,"clickEvent":{"action":"run_command","value":"/function npc:shade_gatekeeper/a3"}}]

execute if score #rc4tick gatekeeper_phase matches 4.. run tellraw @s [{"text":"[Shade] ","color":"#7DCFFF","bold":true,"italic":false},{"text":" Looks like you managed to destroy the Gatekeeper after all. The abyss is wating ...","color":"#A6DBFF","bold":false,"italic":false}]
