execute at @s[nbt={ActiveEffects:[{Id:15,Amplifier:2b}]}] run execute as @p[predicate=skills:vt_dark_orb,scores={dark_orb_duration=..0}] at @s run function skills:offhand/dark_orb
execute at @s[nbt={ActiveEffects:[{Id:15,Amplifier:2b}]}] run execute as @p[predicate=skills:vt_dark_orb,scores={dark_orb_duration=1..}] at @s run function skills:offhand/dark_orb_refresh

execute as @s[nbt={ActiveEffects:[{Id:15,Amplifier:3b}]}] run execute as @p[predicate=skills:vt_dark_orb,scores={dark_orb_duration=..0}] at @s run function skills:offhand/dark_orb
execute as @s[nbt={ActiveEffects:[{Id:15,Amplifier:3b}]}] run execute as @p[predicate=skills:vt_dark_orb,scores={dark_orb_duration=1..}] at @s run function skills:offhand/dark_orb_refresh

execute as @s[nbt={ActiveEffects:[{Id:15,Amplifier:4b}]}] run execute as @p[predicate=skills:vt_dark_orb,scores={dark_orb_duration=..0}] at @s run function skills:offhand/dark_orb
execute as @s[nbt={ActiveEffects:[{Id:15,Amplifier:4b}]}] run execute as @p[predicate=skills:vt_dark_orb,scores={dark_orb_duration=1..}] at @s run function skills:offhand/dark_orb_refresh

execute as @s[nbt={ActiveEffects:[{Id:15,Amplifier:5b}]}] run execute as @p[predicate=skills:vt_dark_orb,scores={dark_orb_duration=..0}] at @s run function skills:offhand/dark_orb
execute as @s[nbt={ActiveEffects:[{Id:15,Amplifier:5b}]}] run execute as @p[predicate=skills:vt_dark_orb,scores={dark_orb_duration=1..}] at @s run function skills:offhand/dark_orb_refresh

execute as @s[nbt={ActiveEffects:[{Id:15,Amplifier:6b}]}] run execute as @p[predicate=skills:vt_dark_orb,scores={dark_orb_duration=..0}] at @s run function skills:offhand/dark_orb
execute as @s[nbt={ActiveEffects:[{Id:15,Amplifier:6b}]}] run execute as @p[predicate=skills:vt_dark_orb,scores={dark_orb_duration=1..}] at @s run function skills:offhand/dark_orb_refresh

execute as @s[nbt={ActiveEffects:[{Id:15,Amplifier:7b}]}] run execute as @p[predicate=skills:vt_dark_orb,scores={dark_orb_duration=..0}] at @s run function skills:offhand/dark_orb
execute as @s[nbt={ActiveEffects:[{Id:15,Amplifier:7b}]}] run execute as @p[predicate=skills:vt_dark_orb,scores={dark_orb_duration=1..}] at @s run function skills:offhand/dark_orb_refresh